
/* reset requirejs definitions so that people who
   put requirejs in legacy compilation do not get errors */
var _old_define = define;
var _old_require = require;
define = undefined;
require = undefined;
try{

/* resource: ++plone++sanfordguide.dexteritytypes/dexteritydrugpage.js */
(function($){$(document).ready(function(){var drugPageModule=function(){return{init:function(){console.log('drugPageModule:init()');},edit_mode:{init:function(){console.log('drugPageModule.edit_mode:init()');this.setupAntimicrobialSpectrum();},setupAntimicrobialSpectrum:function(){$('#formfield-form-widgets-antimicrobial_spectrum').addClass('mceNonEditable');console.log('drugPageModule.edit_mode:: Disable editing antimicrobial spectrum.');TIME_ALLOWED_FOR_TINYMCE_SETUP=2500;setTimeout(function(){$('.mceNonEditable iframe').contents().find('body').on('mousedown',function(){return false;});$('.mceNonEditable iframe').contents().find('body').attr('contentEditable',false);},TIME_ALLOWED_FOR_TINYMCE_SETUP);}},view_mode:{init:function(){console.log('drugPageModule.view_mode:init()');this.setupAntimicrobialSpectrum();this.hideFieldsWithoutValues();this.setupFieldHeaders();},hideFieldsWithoutValues:function(){$('[id^="formfield-form-widgets-"].field.empty').hide();},setupAntimicrobialSpectrum:function(){$('#activity-spectrum').accordion({heightStyle:'content',collapsible:true,active:0,beforeActivate:function(event,ui){if(ui.newHeader[0]){var currHeader=ui.newHeader;var currContent=currHeader.next('.ui-accordion-content');}else{var currHeader=ui.oldHeader;var currContent=currHeader.next('.ui-accordion-content');}var isPanelSelected=currHeader.attr('aria-selected')=='true';currHeader.toggleClass('ui-corner-all',isPanelSelected).toggleClass('accordion-header-active ui-state-active ui-corner-top',!isPanelSelected).attr('aria-selected',((!isPanelSelected).toString()));currHeader.children('.ui-icon').toggleClass('ui-icon-triangle-1-e',isPanelSelected).toggleClass('ui-icon-triangle-1-s',!isPanelSelected);currContent.toggleClass('accordion-content-active',!isPanelSelected);if(isPanelSelected)currContent.slideUp();else currContent.slideDown();return false;}});$('.btn').button();},setupFieldHeaders:function(){var h3Fields=['adult_dose','pediatric_dose','renal_adjustment','hepatic_adjustment','other_adjustment','adverse_effects'];var h2Fields=['usage_and_dosing','antimicrobial_spectrum','pharmacology','major_interactions','comments'];var noHeaderFields=[];var hasEmptyAntimicrobialSpectrum=$('#formfield-form-widgets-antimicrobial_spectrum.empty').length!=0;var hasEmptyAntimicrobialSpectrumAnnotations=$('#formfield-form-widgets-antimicrobial_spectrum_annotations.empty').length!=0;$("span.formHelp").remove();if(hasEmptyAntimicrobialSpectrum&&!hasEmptyAntimicrobialSpectrumAnnotations){h2Fields.push('antimicrobial_spectrum_annotations');$('#formfield-form-widgets-antimicrobial_spectrum_annotations > label').text('Antimicrobial Spectrum:');}else noHeaderFields.push('antimicrobial_spectrum_annotations');h2Fields.forEach(function(field){var isEmpty=$('#formfield-form-widgets-'+field+'.empty').length!=0;if(!isEmpty){var elsLabel=$('#formfield-form-widgets-'+field+' > label');elsLabel.replaceWith('<h2>'+elsLabel.text().slice(0,-1)+'</h2>');}});h3Fields.forEach(function(field){var isEmpty=$('#formfield-form-widgets-'+field+'.empty').length!=0;if(!isEmpty){var elsLabel=$('#formfield-form-widgets-'+field+' > label');elsLabel.replaceWith('<h3>'+elsLabel.text().slice(0,-1)+'</h3>');}});noHeaderFields.forEach(function(field){$('#formfield-form-widgets-'+field+' > label').hide();});}}};}();if($('body').is('.template-view.portaltype-drug_page'))drugPageModule.view_mode.init();else if($('body').is('.template-edit.portaltype-drug_page'))drugPageModule.edit_mode.init();});})(jQuery);
/* resource: ++plone++sanfordguide.dexteritytypes/jquery-iframe-auto-height.min.js */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b();}):"object"==typeof exports?module.exports=b():b();}(this,function(){!function(a){a.fn.iframeAutoHeight=function(b){function c(a){g.debug&&g.debug===!0&&window.console&&console.log(a);}function d(b,d){c("Diagnostics from '"+d+"'");try{c("  "+a(b,window.parent).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight"),c("  "+a(b.contentWindow.document).height()+" for ...contentWindow.document).height()"),c("  "+a(b.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()");}catch(e){c("  unable to check in this state");}c("End diagnostics -> results vary by browser and when diagnostics are requested");}var e;if(a.browser===e){var f=[];return f.push("WARNING: you appear to be using a newer version of jquery which does not support the $.browser variable."),f.push("The jQuery iframe auto height plugin relies heavly on the $.browser features."),f.push("Install jquery-browser: https://raw.github.com/house9/jquery-iframe-auto-height/master/release/jquery.browser.js"),alert(f.join("\n")),a;}var g=a.extend({heightOffset:0,minHeight:0,maxHeight:0,callback:function(){},animate:!1,debug:!1,diagnostics:!1,resetToMinHeight:!1,triggerFunctions:[],heightCalculationOverrides:[]},b);return c(g),this.each(function(){function b(a){var b=null;return jQuery.each(f,function(c,d){return a[d]?(b=h[d],!1):void 0;}),null===b&&(b=h["default"]),b;}function e(e){g.diagnostics&&d(e,"resizeHeight"),g.resetToMinHeight&&g.resetToMinHeight===!0&&(e.style.height=g.minHeight+"px");var f=a(e,window.parent).contents().find("body"),h=b(a.browser),i=h(e,f,g,a.browser);c(i),i<g.minHeight&&(c("new height is less than minHeight"),i=g.minHeight),g.maxHeight>0&&i>g.maxHeight&&(c("new height is greater than maxHeight"),i=g.maxHeight),i+=g.heightOffset,c("New Height: "+i),g.animate?a(e).animate({height:i+"px"},{duration:500}):e.style.height=i+"px",g.callback.apply(a(e),[{newFrameHeight:i}]);}var f=["webkit","mozilla","msie","opera","chrome"],h={};h["default"]=function(a,b,c){return b[0].scrollHeight+c.heightOffset;},jQuery.each(f,function(a,b){h[b]=h["default"];}),jQuery.each(g.heightCalculationOverrides,function(a,b){h[b.browser]=b.calculation;});var i=0,j=this.contentDocument||this.contentWindow.document;if(c(this),g.diagnostics&&d(this,"each iframe"),g.triggerFunctions.length>0){c(g.triggerFunctions.length+" trigger Functions");for(var k=0;k<g.triggerFunctions.length;k++)g.triggerFunctions[k](e,this);}if(a.browser.webkit||a.browser.opera||a.browser.chrome){c("browser is webkit (Safari/Chrome) or opera"),a(this).load(function(){var a=0,b=this,d=function(){e(b);};0===i?a=500:b.style.height=g.minHeight+"px",c("load delay: "+a),setTimeout(d,a),i++;});var l=a(this).attr("src");a(this).attr("src",""),a(this).attr("src",l);}else "complete"===j.readyState?e(this):a(this).load(function(){e(this);});});};}(jQuery);});
}catch(e){
    // log it
    if (typeof console !== "undefined"){
        console.log('Error loading javascripts!' + e);
    }
}finally{
    define = _old_define;
    require = _old_require;
}
